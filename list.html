<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NexusList — Simple To-Do List App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --bg: #ffffff;
      --surface: #f8fafc;
      --text: #1e293b;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --shadow: rgba(0,0,0,0.05);
      --shadow-md: rgba(0,0,0,0.1);
      --primary: #6366f1;
      --primary-rgb: 99, 102, 241;
      --success: #10b981;
      --danger: #ef4444;
      --radius: 16px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dark {
      --bg: #0f172a;
      --surface: #1e293b;
      --text: #f1f5f9;
      --text-muted: #94a3b8;
      --border: #334155;
      --shadow: rgba(0,0,0,0.2);
      --shadow-md: rgba(0,0,0,0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 24px;
      transition: var(--transition);
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.8rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), #8b5cf6);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .logo i {
      background: linear-gradient(135deg, var(--primary), #8b5cf6);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .motivation {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 20px;
      margin-bottom: 28px;
      box-shadow: 0 4px 20px var(--shadow);
      font-size: 1.15rem;
      line-height: 1.6;
      position: relative;
      border-left: 3px solid var(--primary);
    }

    .motivation::before {
      content: """;
      position: absolute;
      top: -20px;
      left: 10px;
      font-size: 4rem;
      opacity: 0.1;
      color: var(--primary);
      font-family: serif;
    }

    .input-area {
      display: flex;
      gap: 12px;
      margin-bottom: 28px;
    }

    #taskInput {
      flex: 1;
      padding: 16px 20px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      font-size: 1rem;
      box-shadow: 0 2px 8px var(--shadow);
      transition: var(--transition);
    }

    #taskInput:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.2);
    }

    #addBtn {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius);
      padding: 0 24px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);
    }

    #addBtn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    .task-list {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .task-item {
      background: var(--surface);
      padding: 18px 20px;
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      gap: 16px;
      box-shadow: 0 3px 12px var(--shadow);
      animation: slideIn 0.3s ease-out;
      transition: var(--transition);
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .task-checkbox {
      width: 22px;
      height: 22px;
      border: 2px solid var(--border);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      flex-shrink: 0;
      transition: var(--transition);
    }

    .task-checkbox.checked {
      background: var(--primary);
      border-color: var(--primary);
    }

    .task-checkbox.checked::after {
      content: "✓";
      color: white;
      font-size: 12px;
    }

    .task-text {
      flex: 1;
      font-size: 1.05rem;
      line-height: 1.5;
      word-break: break-word;
      cursor: pointer;
      user-select: none;
    }

    .task-item.completed .task-text {
      text-decoration: line-through;
      color: var(--text-muted);
    }

    .task-edit-input {
      flex: 1;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      font-size: 1.05rem;
      outline: none;
      box-shadow: 0 2px 6px var(--shadow);
    }

    .delete-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      width: 36px;
      height: 36px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .delete-btn:hover {
      background: rgba(239, 68, 68, 0.1);
      color: var(--danger);
    }

    /* Settings Panel */
    .settings-btn {
      background: var(--surface);
      border: 1px solid var(--border);
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 8px var(--shadow);
      transition: var(--transition);
    }

    .settings-btn:hover {
      background: var(--primary);
      color: white;
    }

    .settings-panel {
      position: absolute;
      top: 70px;
      right: 24px;
      background: var(--surface);
      border-radius: var(--radius);
      padding: 20px;
      width: 280px;
      box-shadow: 0 10px 30px var(--shadow-md);
      z-index: 100;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: var(--transition);
    }

    .settings-panel.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .settings-title {
      font-size: 1.1rem;
      margin-bottom: 16px;
      font-weight: 600;
    }

    .setting-group {
      margin-bottom: 18px;
    }

    .setting-label {
      display: block;
      margin-bottom: 8px;
      font-size: 0.95rem;
      color: var(--text-muted);
    }

    #colorPicker {
      width: 100%;
      height: 40px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }

    .theme-toggle {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .theme-toggle input {
      width: 40px;
      height: 22px;
      appearance: none;
      background: #cbd5e1;
      border-radius: 11px;
      position: relative;
      cursor: pointer;
    }

    .theme-toggle input:checked {
      background: var(--primary);
    }

    .theme-toggle input::before {
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: white;
      top: 2px;
      left: 2px;
      transition: var(--transition);
    }

    .theme-toggle input:checked::before {
      transform: translateX(18px);
    }

    footer {
      text-align: center;
      margin-top: 40px;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
      }

      .input-area {
        flex-direction: column;
      }

      #addBtn {
        padding: 16px;
      }

      .settings-panel {
        left: 24px;
        right: auto;
        width: calc(100% - 48px);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-brain"></i>
        NexusList
      </div>
      <button class="settings-btn" id="settingsBtn">
        <i class="fas fa-cog"></i>
      </button>
    </header>

    <div class="motivation" id="motivationText">
      Memuat kata-kata harian...
    </div>

    <div class="input-area">
      <input type="text" id="taskInput" placeholder="Apa yang akan kamu selesaikan hari ini?" />
      <button id="addBtn">Tambah</button>
    </div>

    <div class="task-list" id="taskList"></div>

    <div class="settings-panel" id="settingsPanel">
      <h3 class="settings-title">Pengaturan Tampilan</h3>
      
      <div class="setting-group">
        <label class="setting-label">Warna Aksen</label>
        <input type="color" id="colorPicker" value="#6366f1" />
      </div>

      <div class="setting-group">
        <label class="setting-label">Mode Gelap</label>
        <div class="theme-toggle">
          <input type="checkbox" id="darkModeToggle" />
        </div>
      </div>
    </div>

    <footer>
      <p>NexusList • Simple To-Do List App</p>
    </footer>
  </div>

  <script>
    const quotes = [
      "Kesuksesan bukanlah akhir, kegagalan bukanlah fatal: keberanian untuk melanjutkanlah yang terpenting.",
      "Jangan biarkan kemarin menghabiskan terlalu banyak dari hari ini.",
      "Kamu tidak harus hebat untuk memulai, tapi kamu harus memulai untuk menjadi hebat.",
      "Satu-satunya cara untuk melakukan pekerjaan besar adalah mencintai apa yang kamu lakukan.",
      "Masa depan milik mereka yang percaya pada keindahan mimpi mereka.",
      "Jangan hitung hari, buat hari-hari itu berarti.",
      "Kerja keras mengalahkan bakat ketika bakat tidak bekerja keras.",
      "Kamu adalah satu-satunya yang bisa mengubah hidupmu.",
      "Setiap pagi membawa peluang baru. Jangan sia-siakan.",
      "Impian tidak bekerja kecuali kamu melakukannya.",
      "Kesuksesan adalah jumlah kecil usaha yang dilakukan berulang kali.",
      "Jangan takut gagal. Takutlah tidak mencoba.",
      "Kamu tidak pernah terlalu tua untuk menetapkan tujuan baru.",
      "Fokus pada solusi, bukan masalah.",
      "Langkah kecil tetap merupakan langkah maju.",
      "Hari ini adalah hari pertama dari sisa hidupmu.",
      "Jangan bandingkan perjalananmu dengan orang lain.",
      "Kamu punya kekuatan untuk menciptakan perubahan.",
      "Kesabaran, ketekunan, dan keringat adalah kombinasi tak terkalahkan untuk sukses.",
      "Bangun mimpi, jangan hanya memimpikannya.",
      "Kegagalan adalah guru terbaik jika kamu mau belajar.",
      "Kamu lebih dekat dari yang kamu kira.",
      "Jangan tunggu peluang. Ciptakanlah.",
      "Setiap ahli dulunya pemula.",
      "Konsistensi adalah kunci dari hasil luar biasa.",
      "Hidup dimulai di luar zona nyamanmu.",
      "Kamu layak untuk sukses dan bahagia.",
      "Bekerja diam-diam. Biarkan kesuksesanmu membuat kebisingan.",
      "Tidak ada jalan pintas untuk tempat yang layak dituju.",
      "Kamu tidak perlu melihat seluruh tangga, cukup ambil langkah pertama.",
      "Kemarin adalah sejarah. Besok adalah misteri. Hari ini adalah hadiah.",
      "Kamu tidak bisa kembali dan mengubah awal, tapi kamu bisa memulai sekarang dan mengubah akhir.",
      "Kesuksesan bukan tentang seberapa cepat kamu sampai, tapi seberapa kuat kamu bertahan.",
      "Jangan biarkan siapa pun memberi tahu kamu bahwa kamu tidak bisa melakukannya.",
      "Kamu adalah arsitek dari hidupmu sendiri.",
      "Setiap usaha kecilmu sedang membangun masa depanmu.",
      "Kamu tidak sendiri dalam perjalanan ini.",
      "Kesuksesan dimulai ketika kamu keluar dari zona nyaman.",
      "Jangan pernah menyerah pada mimpi hanya karena waktu yang dibutuhkan untuk mewujudkannya.",
      "Kamu memiliki segalanya yang dibutuhkan untuk sukses.",
      "Kesuksesan adalah milik mereka yang berani terus mencoba.",
      "Jangan takut berjalan perlahan, takutlah hanya berdiri diam.",
      "Kamu lebih kuat dari yang kamu pikirkan.",
      "Kesuksesan adalah proses, bukan tujuan akhir.",
      "Jangan biarkan rasa takut menghalangi potensimu.",
      "Kamu layak untuk setiap hal baik yang datang dalam hidupmu.",
      "Kesuksesan adalah hasil dari kesempurnaan, kerja keras, belajar dari kegagalan, loyalitas, dan ketekunan.",
      "Jangan pernah meremehkan kekuatan mimpi dan kekuatan orang yang memimpikannya.",
      "Kamu tidak perlu melihat seluruh tangga, cukup ambil langkah pertama.",
      "Kesuksesan adalah kemampuan untuk pergi dari kegagalan ke kegagalan tanpa kehilangan antusiasme."
    ];

    function getRandomQuote() {
      return quotes[Math.floor(Math.random() * quotes.length)];
    }

    document.getElementById('motivationText').textContent = getRandomQuote();

    // Settings
    const settingsBtn = document.getElementById('settingsBtn');
    const settingsPanel = document.getElementById('settingsPanel');
    const colorPicker = document.getElementById('colorPicker');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const body = document.body;

    const savedColor = localStorage.getItem('nexusListColor') || '#6366f1';
    const savedDarkMode = localStorage.getItem('nexusListDarkMode') === 'true';

    colorPicker.value = savedColor;
    darkModeToggle.checked = savedDarkMode;
    if (savedDarkMode) body.classList.add('dark');

    function hexToRgb(hex) {
      const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
      return result ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16)
      } : null;
    }

    function applyColor(color) {
      document.documentElement.style.setProperty('--primary', color);
      const rgb = hexToRgb(color);
      if (rgb) {
        document.documentElement.style.setProperty('--primary-rgb', `${rgb.r}, ${rgb.g}, ${rgb.b}`);
      }
    }

    applyColor(savedColor);

    colorPicker.addEventListener('input', () => {
      const color = colorPicker.value;
      applyColor(color);
      localStorage.setItem('nexusListColor', color);
    });

    darkModeToggle.addEventListener('change', () => {
      const isDark = darkModeToggle.checked;
      body.classList.toggle('dark', isDark);
      localStorage.setItem('nexusListDarkMode', isDark);
    });

    settingsBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      settingsPanel.classList.toggle('active');
    });

    document.addEventListener('click', (e) => {
      if (!settingsPanel.contains(e.target) && e.target !== settingsBtn) {
        settingsPanel.classList.remove('active');
      }
    });

    // Task Management
    let tasks = JSON.parse(localStorage.getItem('nexusListTasks')) || [];
    const taskInput = document.getElementById('taskInput');
    const taskList = document.getElementById('taskList');
    let editingIndex = null;

    function saveTasks() {
      localStorage.setItem('nexusListTasks', JSON.stringify(tasks));
    }

    function renderTasks() {
      taskList.innerHTML = '';
      tasks.forEach((task, index) => {
        const taskEl = document.createElement('div');
        taskEl.className = `task-item ${task.completed ? 'completed' : ''}`;
        taskEl.dataset.index = index;

        const checkbox = document.createElement('div');
        checkbox.className = `task-checkbox ${task.completed ? 'checked' : ''}`;
        checkbox.dataset.action = 'toggle';

        const textEl = document.createElement('div');
        textEl.className = 'task-text';
        textEl.textContent = task.text;
        textEl.dataset.action = 'edit';

        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'delete-btn';
        deleteBtn.dataset.action = 'delete';
        deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';

        taskEl.append(checkbox, textEl, deleteBtn);
        taskList.appendChild(taskEl);
      });
    }

    function addTask() {
      const text = taskInput.value.trim();
      if (text) {
        tasks.push({ text, completed: false });
        saveTasks();
        renderTasks();
        taskInput.value = '';
        taskInput.focus();
      }
    }

    function startEditing(index) {
      if (editingIndex !== null) return; // hindari edit ganda
      editingIndex = index;

      const taskEl = taskList.children[index];
      const textEl = taskEl.querySelector('.task-text');
      const currentText = tasks[index].text;

      const input = document.createElement('input');
      input.type = 'text';
      input.className = 'task-edit-input';
      input.value = currentText;
      input.dataset.index = index;

      textEl.replaceWith(input);
      input.focus();
      input.select();
    }

    function finishEditing(index, newText) {
      editingIndex = null;
      if (newText !== null && newText.trim() !== '') {
        tasks[index].text = newText.trim();
        saveTasks();
      }
      renderTasks();
    }

    // Event delegation for task list
    taskList.addEventListener('click', (e) => {
      const action = e.target.closest('[data-action]')?.dataset.action;
      const index = parseInt(e.target.closest('.task-item')?.dataset.index);

      if (isNaN(index) || index < 0 || index >= tasks.length) return;

      if (action === 'toggle') {
        tasks[index].completed = !tasks[index].completed;
        saveTasks();
        renderTasks();
      } else if (action === 'delete') {
        tasks.splice(index, 1);
        saveTasks();
        renderTasks();
      } else if (action === 'edit') {
        startEditing(index);
      }
    });

    // Handle edit input blur & keypress
    taskList.addEventListener('blur', (e) => {
      if (e.target.classList.contains('task-edit-input')) {
        const index = parseInt(e.target.dataset.index);
        finishEditing(index, e.target.value);
      }
    }, true); // useCapture untuk pastikan blur terdeteksi

    taskList.addEventListener('keypress', (e) => {
      if (e.target.classList.contains('task-edit-input') && e.key === 'Enter') {
        const index = parseInt(e.target.dataset.index);
        finishEditing(index, e.target.value);
      }
    });

    // Tambah task
    document.getElementById('addBtn').addEventListener('click', addTask);
    taskInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addTask();
    });

    // Init
    renderTasks();
  </script>
</body>
</html>